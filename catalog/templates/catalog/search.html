{% extends "catalog/base.html" %}
{% block content %}
<header class="smallheader text-center text-white d-flex">
    <div class="container my-auto">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h1 class="text-uppercase">
                    <strong>{{ title }}</strong>
                </h1>                
            </div>
        </div>
    </div>
</header>
{% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}
<section>
	<div class="container">
		<div class="col-md-18 text-center">    
		        <h2 class="section-heading">Vous pouvez remplacer cet aliment par :</h2>
		        <hr>
				{% for new_product in alt_products %}
					<div class="card product-card">
						<div class="product-card-badge">
                            <span class="product-nutrigrade badge badge-{{ new_product.nutrition_grade }}">{{ new_product.nutrition_grade }}</span>
                        </div>
						<div class="product-card-img" style="background-image: url({{ new_product.picture }})"></div>         
				            <div class="card-body">
				            <h4 class="card-title product-card-title">{{ new_product.name }}</h4>
							
							<a href="{% url 'catalog:product_detail' product_id=new_product.id %}"> détails</a>

							{% if user.is_authenticated %}
							<div class="save-result" id="{{new_product.id}}"></div>
							<form method="post" action="{% url 'catalog:add_favorite' product_id=new_product.id og_product_id=og_id %}">
							    {% csrf_token %}
							    <input class="btn btn-primary btn-xl mt-50" type="submit" value="Sauvegarder" id="{{new_product.id}}">
							</form>
							{% endif %}
						</div>
					</div>
				{% endfor %}

				<div class="clearfix"></div>

				<!-- {% if paginate %}
                {% url 'catalog:search' as alt_url %}
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        {% if alt_products.has_previous %}
                            <li class="page-item">
                                <a class="page-link" href="?{% if request.path == alt_url %}new_product={{ title }}&{% endif %}page=1">Début</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="?{% if request.path == alt_url %}new_product={{ title }}&{% endif %}page={{ alt_products.previous_page_number }}" aria-label="Précédent">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">Précédent</span>                        
                                </a>
                            </li>
                        {% endif %}
                
                        <li class="page-item page-link disabled">
                        Page {{ alt_products.number }} sur {{ alt_products.paginator.num_pages }}.
                        </li>
                
                        {% if alt_products.has_next %}
                            <li class="page-item">
                                <a class="page-link" href="?{% if request.path == alt_url %}new_product={{ title }}&{% endif %}page={{ alt_products.next_page_number }}" aria-label="Suivant">
                                    <span aria-hidden="true">&raquo;</span>
                                    <span class="sr-only">Suivant</span>                    
                                </a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="?{% if request.path == alt_url %}new_product={{ title }}&{% endif %}page={{ alt_products.paginator.num_pages }}">Fin</a>
                            </li>
                        {% endif %}
                    </ul>
                </nav>
                {% endif %}	 -->
		</div>
	</div>	
</section>
{% endblock content %}